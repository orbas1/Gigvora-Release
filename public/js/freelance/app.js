(()=>{var e={1475:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("admin-freelance-dashboard");if(e){var t=document.getElementById("volume-chart"),n=document.getElementById("dispute-chart");window.renderChart&&(window.renderChart(t,e.dataset.volume||[]),window.renderChart(n,e.dataset.disputes||[]))}}))},1194:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("gig-orders");e&&(e.querySelectorAll("tbody tr").forEach((function(e){var t=e.querySelector("td:nth-child(5)");if(t){var n=t.textContent;t.dataset.countdown=n}})),e.querySelectorAll(".status-filter").forEach((function(t){return t.addEventListener("click",(function(){e.querySelectorAll(".status-filter").forEach((function(e){return e.classList.remove("active")})),t.classList.add("active")}))})))}))},3193:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("toggle-description");e&&e.addEventListener("click",(function(t){t.preventDefault();var n=e.previousElementSibling;n&&n.classList.toggle("text-truncate")}))}))}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{"use strict";function e(){return window.axios?window.axios:{post:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":null===(t=document.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.content},body:JSON.stringify(n)}).then((function(e){return e.json()}))},get:function(e){return fetch(e).then((function(e){return e.json()}))}}}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";window.toastr?window.toastr[t](e):alert(e)}document.addEventListener("DOMContentLoaded",(function(){var t,n=document.getElementById("freelancer-dashboard");if(n){var r=e(),a=document.getElementById("earnings-chart");a&&window.renderChart&&window.renderChart(a,n.dataset.chartData||[]);var o=document.getElementById("recommended-projects");null===(t=document.getElementById("refresh-recommended"))||void 0===t||t.addEventListener("click",c),c()}function c(){null!=o&&o.dataset.fetchUrl&&(o.innerHTML='<p class="text-muted">Loading...</p>',r.get(o.dataset.fetchUrl).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.innerHTML=e.map((function(e){return'<div class="mb-3"><strong>'.concat(e.title,'</strong><div class="text-muted small">').concat(e.budget,"</div></div>")})).join("")})))}})),document.addEventListener("DOMContentLoaded",(function(){var n=document.getElementById("freelance-onboarding");if(n){var r=e();n.querySelectorAll("input, textarea").forEach((function(e){return e.addEventListener("input",o)})),o(),n.querySelectorAll(".role-toggle").forEach((function(e){e.addEventListener("change",(function(){r.post(n.dataset.fetchUrl,{role:e.dataset.role,enabled:e.checked})}))}));var a=document.getElementById("save-onboarding");a&&a.addEventListener("click",(function(){var e=Object.fromEntries(new FormData(n).entries());o()<50?t("Please complete your basic profile first.","warning"):r.post(n.dataset.fetchUrl,e).then((function(){t("Onboarding saved"),window.location.href="/freelance/freelancer/dashboard"}))}))}function o(){var e=["skills","hourly_rate","timezone","bio"],t=e.filter((function(e){var t;return((null===(t=n.querySelector('[name="'.concat(e,'"]')))||void 0===t?void 0:t.value)||"").trim().length>0})).length,r=Math.round(t/e.length*100);n.querySelector("#profile-percent").textContent="".concat(r,"%");var a=n.querySelector(".progress-bar");return a&&(a.style.width="".concat(r,"%")),r}}));n(1475);document.addEventListener("DOMContentLoaded",(function(){var n,r=document.getElementById("contract-detail")||document.getElementById("client-contract-detail");if(r){var a=e();null===(n=r.querySelectorAll("[data-action]"))||void 0===n||n.forEach((function(e){e.addEventListener("click",(function(){var n=e.dataset.action;a.post("/contracts/".concat(r.dataset.contractId,"/").concat(n),{}).then((function(){return t("Action ".concat(n," triggered"))}))}))}));var o=r.querySelector(".timeline");o&&o.querySelectorAll(".timeline-marker").forEach((function(e){e.classList.add("animate-pulse")}));var c=r.querySelector("#contract-message-form");c&&c.addEventListener("submit",(function(e){e.preventDefault();var n=Object.fromEntries(new FormData(c).entries());a.post("/contracts/".concat(r.dataset.contractId,"/messages"),n).then((function(){return t("Message sent")}))}))}})),document.addEventListener("DOMContentLoaded",(function(){var n,r=document.getElementById("dispute-centre")||document.getElementById("dispute-detail");if(r){var a=e();null===(n=r.querySelectorAll("#dispute-tabs .nav-link"))||void 0===n||n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),r.querySelectorAll("#dispute-tabs .nav-link").forEach((function(e){return e.classList.remove("active")})),e.classList.add("active")}))}));var o=document.getElementById("dispute-message-form");o&&o.addEventListener("submit",(function(e){e.preventDefault();var n=Object.fromEntries(new FormData(o).entries());a.post("/disputes/".concat(r.dataset.disputeId,"/message"),n).then((function(){return t("Statement submitted")}))}))}})),document.addEventListener("DOMContentLoaded",(function(){var t,n=document.getElementById("admin-fees");if(n){var r=e(),a=document.getElementById("example-amount"),o=document.getElementById("fee-preview");null==a||a.addEventListener("input",(function(){var e=Number(a.value||0);if(e)if(n.dataset.previewUrl)r.post(n.dataset.previewUrl,{amount:e}).then((function(e){o.textContent="Fee: ".concat(e.fee," · Net: ").concat(e.net)}));else{var t=.1*e;o.textContent="Fee: $".concat(t.toFixed(2)," · Net: $").concat((e-t).toFixed(2))}else o.textContent="Enter amount to preview"})),null===(t=document.getElementById("save-fees"))||void 0===t||t.addEventListener("click",(function(){var e=Object.fromEntries(new FormData(n).entries());r.post(n.dataset.previewUrl||"/admin/fees",e).then((function(){return alert("Settings saved")}))}))}})),document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("gig-list");if(t){var n=e();t.querySelectorAll('select[name], input[name="search"]').forEach((function(e){return e.addEventListener("change",(function(){return r()}))}));var r=function(){var e=new URL(t.dataset.fetchUrl||window.location.href);t.querySelectorAll('select[name], input[name="search"]').forEach((function(t){return e.searchParams.set(t.name,t.value)})),n.get(e.toString()).then((function(e){var t=document.getElementById("gig-list-container");t&&null!=e&&e.content&&(t.innerHTML=e.content)}))}}})),document.addEventListener("DOMContentLoaded",(function(){var n,r,a,o,c,i,d,l=document.getElementById("gig-wizard");if(l){var u=e(),s=1,m=l.querySelectorAll(".wizard-panel"),v=l.querySelectorAll("#wizard-tabs .nav-link"),f=function(e){s=e,m.forEach((function(e){return e.classList.toggle("d-none",Number(e.dataset.step)!==s)})),v.forEach((function(e){return e.classList.toggle("active",Number(e.dataset.step)===s)})),l.querySelector("#wizard-step").textContent=s};v.forEach((function(e){return e.addEventListener("click",(function(t){t.preventDefault(),f(Number(e.dataset.step))}))})),null===(n=document.getElementById("wizard-next"))||void 0===n||n.addEventListener("click",(function(){s<5&&f(s+1)})),null===(r=document.getElementById("wizard-prev"))||void 0===r||r.addEventListener("click",(function(){s>1&&f(s-1)}));var p=document.getElementById("faq-list");null===(a=document.getElementById("add-faq"))||void 0===a||a.addEventListener("click",(function(e){var t;e.preventDefault(),(t=document.createElement("div")).className="mb-2 faq-item",t.innerHTML='<input class="form-control mb-2" name="faq_question[]" placeholder="Question"><textarea class="form-control" name="faq_answer[]" placeholder="Answer"></textarea>',p.appendChild(t)}));var E=document.getElementById("requirements-list");null===(o=document.getElementById("add-requirement"))||void 0===o||o.addEventListener("click",(function(e){e.preventDefault();var t=document.createElement("div");t.className="mb-3 requirement-item",t.innerHTML='<input type="text" class="form-control" name="requirements[]" placeholder="New requirement">',E.appendChild(t)})),l.querySelectorAll("input").forEach((function(e){return e.addEventListener("input",y)})),y();l.addEventListener("input",(function(){return function(){l.querySelector("#preview-title").textContent=l.querySelector('[name="title"]').value,l.querySelector("#preview-description").textContent=l.querySelector('[name="description"]').value;var e=l.querySelector("#preview-faq");e.innerHTML="",p.querySelectorAll(".faq-item").forEach((function(t){var n=t.querySelector("input").value,r=t.querySelector("textarea").value;(n||r)&&(e.innerHTML+='<div class="mb-2"><strong>'.concat(n,"</strong><div>").concat(r,"</div></div>"))}))}()}));var g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object.fromEntries(new FormData(l).entries());n.publish=e,u.post(l.dataset.saveUrl,n).then((function(){t(e?"Gig published":"Draft saved")}))};null===(c=document.getElementById("wizard-save"))||void 0===c||c.addEventListener("click",(function(){return g(!1)})),null===(i=document.getElementById("save-draft"))||void 0===i||i.addEventListener("click",(function(e){e.preventDefault(),g(!1)})),null===(d=document.getElementById("publish-gig"))||void 0===d||d.addEventListener("click",(function(e){e.preventDefault(),g(!0)}))}function y(){l.querySelectorAll(".net-earning").forEach((function(e){var t=l.querySelector('[name="packages['.concat(e.dataset.package,'][price]"]')),n=Number((null==t?void 0:t.value)||0);e.textContent="$".concat(Math.max(n-.1*n,0).toFixed(2))}))}})),document.addEventListener("DOMContentLoaded",(function(){var n,r=document.getElementById("order-detail");if(r){var a=e(),o=document.getElementById("message-form");null==o||o.addEventListener("submit",(function(e){e.preventDefault();var n=Object.fromEntries(new FormData(o).entries());a.post("/orders/".concat(r.dataset.orderId,"/messages"),n).then((function(){return t("Message sent")}))})),null===(n=document.getElementById("deliver-work"))||void 0===n||n.addEventListener("click",(function(){a.post("/orders/".concat(r.dataset.orderId,"/deliver"),{}).then((function(){return t("Delivery submitted")}))}))}}));n(1194);document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("projects-browse");if(t){var n=e(),r=document.getElementById("search-projects"),a=document.getElementById("projects-list"),o=function(){var e=new URL(t.dataset.fetchUrl||window.location.href);t.querySelectorAll('select[name], input[name="q"]').forEach((function(t){return e.searchParams.set(t.name,t.value)})),n.get(e.toString()).then((function(e){null!=e&&e.content&&a&&(a.innerHTML=e.content)}))};null==r||r.addEventListener("click",o),t.querySelectorAll("select[name]").forEach((function(e){return e.addEventListener("change",o)}))}}));n(3193);document.addEventListener("DOMContentLoaded",(function(){var n,r=document.getElementById("client-project-detail");if(r){var a=e(),o=r.querySelectorAll("#project-tabs .nav-link");o.forEach((function(e){return e.addEventListener("click",(function(t){t.preventDefault();var n=e.dataset.tab;document.querySelectorAll('[id^="tab-"]').forEach((function(e){return e.classList.add("d-none")})),document.getElementById("tab-".concat(n)).classList.remove("d-none"),o.forEach((function(t){return t.classList.toggle("active",t===e)}))}))})),null===(n=r.querySelectorAll("#proposal-cards [data-action]"))||void 0===n||n.forEach((function(e){e.addEventListener("click",(function(){var n=e.dataset.action,o=e.closest("[data-proposal-id]");a.post("/projects/".concat(r.dataset.projectId,"/proposals/").concat(o.dataset.proposalId,"/").concat(n),{}).then((function(){return t("Proposal ".concat(n))}))}))}))}})),document.addEventListener("DOMContentLoaded",(function(){var n=document.getElementById("project-wizard");if(n){var r=e(),a=1,o=n.querySelectorAll(".project-panel"),c=n.querySelectorAll("#project-tabs .nav-link"),i=function(e){a=e,o.forEach((function(e){return e.classList.toggle("d-none",Number(e.dataset.step)!==a)})),c.forEach((function(e){return e.classList.toggle("active",Number(e.dataset.step)===a)})),n.querySelector("#project-step").textContent=a};c.forEach((function(e){return e.addEventListener("click",(function(t){t.preventDefault(),i(Number(e.dataset.step))}))}));var d=document.getElementById("project-next");d&&d.addEventListener("click",(function(){a<5&&i(a+1)}));var l=document.getElementById("project-prev");l&&l.addEventListener("click",(function(){a>1&&i(a-1)}));var u=n.querySelector("#questions"),s=document.getElementById("add-question");s&&s.addEventListener("click",(function(e){var t;e.preventDefault(),(t=document.createElement("div")).className="mb-2",t.innerHTML='<input type="text" class="form-control" name="questions[]" placeholder="Add screening question">',u.appendChild(t)}));var m=function(){var e=Number(n.querySelector('[name="budget"]').value||0);n.querySelector("#fee-estimate").textContent="$".concat((.1*e).toFixed(2));var t=n.querySelector("#review-fee");t&&(t.textContent="$".concat((.1*e).toFixed(2)));var r=n.querySelector("#review-budget");r&&(r.textContent=e?"$".concat(e):"");var a=n.querySelector("#review-title");a&&(a.textContent=n.querySelector('[name="title"]').value)};n.querySelectorAll("input, textarea, select").forEach((function(e){return e.addEventListener("input",m)})),m();var v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object.fromEntries(new FormData(n).entries());a.publish=e,r.post(n.dataset.saveUrl,a).then((function(){return t(e?"Project published":"Draft saved")}))},f=document.getElementById("project-save");f&&f.addEventListener("click",(function(){return v(!1)}));var p=document.getElementById("save-project-draft");p&&p.addEventListener("click",(function(e){e.preventDefault(),v(!1)}));var E=document.getElementById("publish-project");E&&E.addEventListener("click",(function(e){e.preventDefault(),v(!0)}))}})),document.addEventListener("DOMContentLoaded",(function(){var n,r,a,o,c=document.getElementById("proposal-form");if(c){var i=e(),d=function(){var e=Number(c.querySelector('[name="amount"]').value||0),t=e-.1*e;c.querySelector("#net-earning").textContent="$".concat(t.toFixed(2))};null===(n=c.querySelector('[name="amount"]'))||void 0===n||n.addEventListener("input",d),d();var l=document.getElementById("milestones");null===(r=document.getElementById("add-milestone"))||void 0===r||r.addEventListener("click",(function(e){e.preventDefault();var t=document.createElement("div");t.className="mb-2",t.innerHTML='<input class="form-control mb-1" name="milestone_title[]" placeholder="Title"><input class="form-control" name="milestone_amount[]" placeholder="Amount">',l.appendChild(t)}));var u=function(e){var n=Object.fromEntries(new FormData(c).entries());n.publish=e,i.post(c.dataset.saveUrl,n).then((function(){return t(e?"Proposal submitted":"Draft saved")}))};null===(a=document.getElementById("save-draft"))||void 0===a||a.addEventListener("click",(function(e){e.preventDefault(),u(!1)})),null===(o=document.getElementById("submit-proposal"))||void 0===o||o.addEventListener("click",(function(e){e.preventDefault(),u(!0)}))}})),document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("proposals-list");if(t){var n=e(),r=t.querySelectorAll("#proposal-tabs .nav-link");r.forEach((function(e){return e.addEventListener("click",(function(t){t.preventDefault(),r.forEach((function(e){return e.classList.remove("active")})),e.classList.add("active");var a=e.dataset.status;n.get("/freelance/proposals?status=".concat(a)).then((function(e){null!=e&&e.content&&(document.getElementById("proposals-body").innerHTML=e.content)}))}))}))}})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-freelance-accordion]").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("aria-controls"),n=document.getElementById(t);if(n){var r="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",(!r).toString()),n.classList.toggle("hidden",r)}}))}))}))})()})();